<div class="container center-block"><!-- Set the width of the page -->
	<style>
	.leaflet-control-locate {
		border:1px solid rgba(0,0,0,0.4);
		}
	.leaflet-control-locate a {
		background-color:#fff;
		background-position:-3px, -2px;
		}
	.leaflet-control-locate.active a {
		background-position:-33px -2px;
		}

	.leaflet-popup-content img {
		max-width:100%;
		}
	</style>



	<h2>Timeline Map</h2>
	<p>This is our timeline map visualization for the movement of art.</p>
	<!--
	<button id="zoom_in">+</button>
	<button id="zoom_out">-</button>
	-->
	<div class="container row row-eq-height">
		<div class="col-md-9">
			<leaflet height="480px" width="100%" defaults="defaults" center="center" controls="controls"
			   paths="paths" event-broadcast="events" markers="markers"></leaflet>
		</div>
		<div class="col-md-3" style="max-height: 480px; overflow-y: auto;">
			<div class="panel panel-default" ng-if="infoBox.type == 'Marker'">
				<div class="panel-heading">
					{{infoBox.title}}
					<span class="badge">{{infoBox.data.length}}</span>
				</div>
				<ul class="list-group">
					<li class="list-group-item" ng-repeat="element in infoBox.data">
						<a ng-click="element.goToInfoPage()">{{element.name}}</a>
					</li>
				</ul>
			</div>
			<div class="panel panel-default" ng-if="infoBox.type == 'Path'">
				<div class="panel-heading">
					{{infoBox.title}}
				</div>
				<ul class="list-group">
					<li class="list-group-item" ng-repeat="location in infoBox.data.locations">
						{{location.name}}
						<span ng-show="location.date">
							({{convertDateValueToString(location.date)}})
						</span>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<p>
		The dotted lines here represents a piece that contains no date for its movemnt. These will always be present regardless of the current value of the of the slider.
	</p>

	<p>
		Please select a year using the slider below. All the pieces that have moved before this date will be shown.
	</p>

	<div class="well">
		<b>{{sliderData.formatter(sliderData.minValue)}}</b>&nbsp;&nbsp;&nbsp;
		<slider ng-model="sliders.sliderValue" min="{{sliderData.minValue}}" step="{{sliderData.stepSize}}" max="{{sliderData.maxValue}}" value="{{sliderData.value}}" formatter="sliderData.formatter">
		</slider>&nbsp;&nbsp;&nbsp;
		<b>{{sliderData.formatter(sliderData.maxValue)}}</b>
	</div>

	<div class="container">
		<table class="table table-striped">
			<tr>
				<th>
					Name
				</th>
				<th>
					Date
				</th>
				<th>
					Original
				</th>
				<th>
					Original Date
				</th>
				<th>
					Second
				</th>
				<th>
					Second Date
				</th>
				<th>
					Third
				</th>
				<th>
					Third Date
				</th>
				<th>
					Current
				</th>
				<th>
					Current Date
				</th>
			</tr>
			<!--  -->
			<tr ng-repeat="path in paths | dateRange:sliders.sliderValue">
				<td>
					{{path.data.piece.name}}
				</td>
				<td>
					{{path.data.date}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Original').name}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Original').date}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Second').name}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Second').date}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Third').name}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Third').date}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Current').name}}
				</td>
				<td>
					{{path.data.piece.getLocationByName('Current').date}}
				</td>
			</tr>
		</table>
	</div>

</div>
